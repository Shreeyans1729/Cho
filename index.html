<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#050505;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial,sans-serif;
}

/* ================= PHOTO STACK ================= */
.stack-wrapper{
  width:320px;
  height:420px;
  position:relative;
  overflow:visible;
}

.photo-stack{
  position:relative;
  width:100%;
  height:100%;
  perspective:1200px;
}

/* ================= CARD ================= */
.card{
  position:absolute;
  inset:0;
  border-radius:40px;
  overflow:hidden;
  background:#000;
  transition-property:transform,opacity;
  transition-timing-function:cubic-bezier(.19,1,.22,1);
  box-shadow:0 30px 80px rgba(0,0,0,.7);
}

.card img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Gold border */
.card::after{
  content:"";
  position:absolute;
  inset:0;
  border:2px solid rgba(212,175,55,.7);
  border-radius:inherit;
}

/* ================= POSITIONS ================= */
.card.front{
  z-index:3;
  transform:translateX(0) scale(1);
}
.card.middle{
  z-index:2;
  transform:translate(18px,18px) scale(.95);
  opacity:.85;
}
.card.back{
  z-index:1;
  transform:translate(36px,36px) scale(.9);
  opacity:.6;
}

/* ================= SLIDE ANIMATION ================= */
.slide-left{
  transform:translateX(-120%) scale(.9);
  opacity:0;
}

.slide-right{
  transform:translateX(120%) scale(.9);
  opacity:0;
}
</style>
</head>

<body>

<div class="stack-wrapper">
  <div class="photo-stack" id="stack">
    <div class="card front"><img src="611bcf675805a2a25a2840e3_ezgif.com-gif-maker.gif"></div>
    <div class="card middle"><img src="IMG-20251226-WA0050.jpg"></div>
    <div class="card back"><img src="Screenshot_20251226-234624.Photos.png"></div>
  </div>
</div>

<script>
const stack = document.getElementById("stack");
let cards = Array.from(stack.children);

/* ================= AUTO SLIDE ================= */
let autoSlide = setInterval(()=>slide("left",800),3000);

/* ================= SLIDE FUNCTION ================= */
function slide(direction,duration){
  cards.forEach(card=>{
    card.style.transitionDuration = duration+"ms";
  });

  cards[0].classList.add(direction === "left" ? "slide-left" : "slide-right");

  setTimeout(()=>{
    cards[0].className = "card back";
    cards[1].className = "card front";
    cards[2].className = "card middle";

    cards.push(cards.shift());
  },duration);
}

/* ================= TOUCH MOTION CAPTURE ================= */
let startX = 0;
let startTime = 0;

stack.addEventListener("touchstart",e=>{
  clearInterval(autoSlide);
  startX = e.touches[0].clientX;
  startTime = Date.now();
});

stack.addEventListener("touchend",e=>{
  let endX = e.changedTouches[0].clientX;
  let distance = endX - startX;
  let time = Date.now() - startTime;

  let speed = Math.abs(distance / time);
  let duration = Math.max(300,Math.min(900,800 - speed*300));

  if(Math.abs(distance) > 40){
    slide(distance < 0 ? "left" : "right",duration);
  }

  autoSlide = setInterval(()=>slide("left",800),3000);
});
</script>

</body>
</html>
